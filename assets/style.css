* { box-sizing: border-box; }
html, body { height: 100%; margin:0; font-family: 'Rajdhani', 'Segoe UI', sans-serif; background: radial-gradient(circle at 70% 30%, #0a1a2e, #02060d 70%); color: #e2f1ff; overflow:hidden; }
body { display:flex; }
:root {
  --accent:#15f4ff;
  --accent-glow:0 0 12px rgba(21,244,255,0.7), 0 0 32px rgba(21,244,255,0.25);
  --danger:#ff3d71;
  --ok:#3dffb5;
  --warn:#ffc542;
  --panel:#0d2338aa;
  --panel-solid:#132c46;
  --gradient-accent:linear-gradient(120deg,#06b6d4,#14f1ff,#00ffa8);
}

#app-root { display:flex; flex:1; width:100%; }
.sidebar { width:370px; padding:14px 18px 18px; backdrop-filter: blur(18px) saturate(180%); background:linear-gradient(160deg,#0e2437aa,#0b1624aa 60%,#04101dcc); border-right:1px solid #11344f; display:flex; flex-direction:column; gap:18px; overflow:hidden; }
.logo { display:flex; align-items:center; gap:14px; }
.logo .glyph { font-size:40px; filter: drop-shadow(0 0 6px #15f4ff88); }
.logo h1 { font-family:'Orbitron', sans-serif; font-size:34px; margin:0; letter-spacing:1px; font-weight:800; background: var(--gradient-accent); -webkit-background-clip:text; background-clip:text; color:transparent; }
.logo h1 span { text-shadow: 0 0 12px #15f4ff; }
.logo small { font-size:12px; opacity:.65; letter-spacing:2px; text-transform:uppercase; }

h2 { font-family:'Orbitron'; margin:0 0 10px; font-size:16px; letter-spacing:1px; font-weight:600; color:#9cd6ff; }
section { position:relative; }
.status-block, .mission-block, .log-block { background:var(--panel); border:1px solid #173c54; padding:12px 14px 14px; border-radius:16px; box-shadow: 0 0 0 1px #0d3145, 0 0 22px -6px #15f4ff55 inset; }
.status-block:before, .mission-block:before, .log-block:before { content:""; position:absolute; inset:0; pointer-events:none; border-radius:inherit; background:linear-gradient(120deg, #15f4ff11, #00ffa808); }

.stat-grid { display:grid; grid-template-columns:repeat(2,1fr); gap:10px 14px; margin-bottom:6px; }
.stat { font-size:13px; line-height:1.1; }
.stat label { display:block; font-size:10px; opacity:.55; letter-spacing:1px; text-transform:uppercase; margin-bottom:2px; }
.stat-inline { display:flex; align-items:center; gap:12px; margin-top:4px; font-size:13px; }
.badge { padding:4px 10px 5px; border-radius:20px; font-size:11px; letter-spacing:1px; font-weight:600; background:#1c3850; box-shadow: inset 0 0 0 1px #265c74; }
.badge.idle { color:#9eb7c5; }
.badge.preflight { background:#173a5a; color:#ffc542; box-shadow:0 0 10px -2px #ffc54255; }
.badge.armed { background:#1f3f2f; color:#3dffb5; box-shadow:0 0 10px -2px #3dffb555; }
.badge.active { background:#153a45; color:#15f4ff; box-shadow:0 0 10px -2px #15f4ff66; }

.mission-block .info-line { font-size:12px; opacity:.65; margin-bottom:10px; }
.dest-coords { font-size:12px; background:#102c42; padding:8px 10px; border-radius:10px; box-shadow: inset 0 0 0 1px #1d4d68; margin-bottom:10px; }
.dest-coords label { display:block; font-size:10px; text-transform:uppercase; opacity:.6; letter-spacing:1px; margin-bottom:2px; }
.route-info { display:grid; grid-template-columns:repeat(2,1fr); gap:8px 14px; background:#0f2a3f; padding:8px 10px 10px; border-radius:12px; box-shadow: inset 0 0 0 1px #154157; margin-bottom:12px; animation:fadeIn .4s ease; }
.route-info label { display:block; font-size:10px; opacity:.55; text-transform:uppercase; letter-spacing:1px; margin-bottom:2px; }
.hidden { display:none !important; }

.button-group { display:flex; flex-wrap:wrap; gap:10px; }
.btn { cursor:pointer; font-family:'Rajdhani'; font-weight:600; letter-spacing:.5px; font-size:13px; padding:10px 18px; border-radius:14px; border:1px solid #1b4f63; background:#0f3246; color:#d2f6ff; position:relative; overflow:hidden; transition:.25s; }
.btn:disabled { cursor:not-allowed; opacity:.4; filter:grayscale(.4); }
.btn.primary { background:linear-gradient(120deg,#0e5f70,#09839f,#00a7bf); border-color:#00a8c4; box-shadow:0 0 0 1px #0d6c85,0 0 18px -4px #15f4ffaa; }
.btn.secondary { background:linear-gradient(120deg,#123955,#0f4a68,#0d5b7c); border-color:#156d8a; }
.btn.ghost { background:#132c46; border-color:#1f4861; }
.btn:not(:disabled):hover { transform:translateY(-2px); box-shadow:0 6px 18px -8px #15f4ffaa,0 0 0 1px #15f4ff66; }
.btn.primary:not(:disabled):hover { filter:brightness(1.15); }

.log-head { display:flex; align-items:center; justify-content:space-between; margin:0 0 6px; }
.mini-btn { background:#123647; border:1px solid #1d556b; color:#9cd6ff; font-size:10px; letter-spacing:1px; padding:4px 10px 5px; cursor:pointer; border-radius:30px; font-family:'Orbitron'; text-transform:uppercase; }
.mini-btn:hover { background:#155067; }
.log-stream { font-family: 'Rajdhani', monospace; font-size:11px; line-height:1.25; flex:1; overflow-y:auto; padding-right:6px; scrollbar-width:thin; max-height:170px; position:relative; }
.timeline .log-entry { position:relative; padding:4px 6px 4px 14px; margin:0 0 3px 4px; background:#0f2d41aa; border:1px solid #1a4a63; border-left:3px solid #15f4ff55; border-radius:6px; }
.timeline .log-entry:before { content:""; position:absolute; left:2px; top:9px; width:6px; height:6px; background:#15f4ff; border-radius:50%; box-shadow:0 0 0 2px #082231,0 0 8px 1px #15f4ff77; }
.timeline .log-entry.ok { border-left-color:#3dffb5bb; }
.timeline .log-entry.ok:before { background:#3dffb5; box-shadow:0 0 0 2px #082231,0 0 8px 1px #3dffb588; }
.timeline .log-entry.warn { border-left-color:#ffc542cc; }
.timeline .log-entry.warn:before { background:#ffc542; }
.timeline .log-entry.err { border-left-color:#ff3d71cc; }
.timeline .log-entry.err:before { background:#ff3d71; }
.log-stream::-webkit-scrollbar { width:6px; }
.log-stream::-webkit-scrollbar-track { background:#0f2a3f; }
.log-stream::-webkit-scrollbar-thumb { background:#1d566d; border-radius:4px; }
.log-entry { margin:0 0 4px; opacity:.9; animation:fadeIn .4s ease; }
.log-entry span.time { color:#15f4ff; opacity:.6; margin-right:6px; }
.log-entry.ok { color:#3dffb5; }
.log-entry.warn { color:#ffc542; }
.log-entry.err { color:#ff3d71; }

.map-area { position:relative; flex:1; }
#map { position:absolute; inset:0; z-index:0; }

.hud-top, .hud-bottom { position:absolute; left:0; right:0; display:flex; gap:10px; pointer-events:none; padding:12px 18px; }
.hud-top { top:0; justify-content:flex-end; }
.hud-bottom { bottom:0; justify-content:center; }
.hud-chip { background:rgba(10,30,44,.72); backdrop-filter: blur(10px) saturate(160%); padding:8px 14px 9px; border-radius:40px; font-size:12px; letter-spacing:.5px; border:1px solid #164056; box-shadow:0 0 0 1px #0a2f3e, 0 0 16px -6px #15f4ff66; font-family:'Orbitron'; text-shadow:0 0 6px #15f4ff55; }
.hud-chip.neon { color:#15f4ff; }

.mission-overlay { position:absolute; inset:0; background:radial-gradient(circle at 50% 40%, #0a202fb0, #04121dd9 70%); display:flex; align-items:center; justify-content:center; z-index:400; backdrop-filter: blur(8px) saturate(140%); }
.overlay-content { text-align:center; animation:fadeIn .5s ease; }
.overlay-content h3 { font-family:'Orbitron'; letter-spacing:1px; font-weight:600; margin:14px 0 4px; }
.overlay-content p { margin:0; font-size:13px; opacity:.65; }
.loader { width:68px; height:68px; border-radius:50%; border:4px solid #0c394b; border-top-color:#15f4ff; border-right-color:#15f4ff; animation:spin 1s linear infinite, glow 2.4s ease-in-out infinite; margin:0 auto; box-shadow:0 0 18px -4px #15f4ffaa; }

/* Notifications removed as per request */

/* Animations */
@keyframes spin { to { transform:rotate(360deg);} }
@keyframes glow { 0%,100% { box-shadow:0 0 18px -4px #15f4ffaa;} 50% { box-shadow:0 0 30px 0 #15f4ff;} }
@keyframes fadeIn { from { opacity:0; transform:translateY(4px);} to { opacity:1; transform:translateY(0);} }
@keyframes slideIn { from { opacity:0; transform:translateX(-10px);} to { opacity:1; transform:translateX(0);} }
@keyframes drop { from { opacity:0; transform:translate(-50%, -12px);} to { opacity:1; transform:translate(-50%,0);} }

/* Zoom controls */
.zoom-controls { position:absolute; right:16px; top:50%; transform:translateY(-50%); display:flex; flex-direction:column; gap:10px; z-index:350; }
.zoom-btn { width:46px; height:46px; border-radius:14px; background:#0f2d41d5; border:1px solid #1a546b; color:#e2f7ff; font-size:28px; font-family:'Orbitron'; cursor:pointer; backdrop-filter:blur(14px); box-shadow:0 0 0 1px #0b3243,0 10px 24px -16px #000; transition:.3s; }
.zoom-btn:hover { background:#144054; }

/* Adjust map to account for sidebar full-height */
.map-area { position:relative; flex:1; height:100vh; }

/* Force sidebar sections to share vertical space */
.sidebar { height:100vh; }
.log-block { flex:1; display:flex; flex-direction:column; min-height:0; }

/* Mission overlay center fix for new layout */
.mission-overlay { height:100%; }

/* Theme toggle button refinement */
.theme-btn { margin-left:auto; font-size:10px; padding:6px 12px 7px; }

/* Light theme overrides */
body.light { --accent:#007b9e; --danger:#c31a4a; --ok:#0f9d57; --warn:#cf8a06; --panel:#ffffffd0; --panel-solid:#f2f7fa; background: radial-gradient(circle at 70% 30%, #dfe9f3, #b9d4e6 65%, #9fc1d9); color:#132a38; }
body.light .sidebar { background:linear-gradient(160deg,#ffffffcc,#ecf5faee 60%,#e2eef5cc); border-right:1px solid #d0e1eb; }
body.light .status-block, body.light .mission-block, body.light .log-block { background:var(--panel); border-color:#c3dbe6; box-shadow:0 0 0 1px #d6e8f0, 0 0 18px -6px #77c7ff55 inset; }
body.light h2 { color:#0f4d63; }
body.light .badge { background:#e1f2f9; box-shadow:none; color:#0d3d4f; }
body.light .dest-coords { background:#edf6fa; box-shadow: inset 0 0 0 1px #c1dbe8; }
body.light .route-info { background:#eef7fb; box-shadow: inset 0 0 0 1px #c1dae6; }
body.light .btn { background:#e7f2f8; border-color:#c0dbe7; color:#093b4b; }
body.light .btn.primary { background:linear-gradient(120deg,#3db4d5,#34c6dd,#24d7d8); border-color:#25b6c9; color:#07323e; }
body.light .btn.secondary { background:linear-gradient(120deg,#b5dcea,#a3d1e2,#92c5db); }
body.light .btn.ghost { background:#f0f7fa; }
body.light .hud-chip { background:rgba(255,255,255,0.75); border-color:#c2dbe6; color:#0a4a5c; text-shadow:none; }
body.light .hud-chip.neon { color:#046986; }
body.light .zoom-btn { background:#ffffffdd; border-color:#c1dae6; color:#0a4a5c; }
body.light .zoom-btn:hover { background:#dff1f8; }
body.light .timeline .log-entry { background:#f0f8fb; border:1px solid #c7deea; border-left-color:#3ab6d9; }
body.light .timeline .log-entry:before { background:#2bb1d6; box-shadow:0 0 0 2px #fff,0 0 6px 1px #4cccff77; }
body.light .timeline .log-entry.ok { border-left-color:#26a868; }
body.light .timeline .log-entry.warn { border-left-color:#cf8a06; }
body.light .timeline .log-entry.err { border-left-color:#c31a4a; }
body.light .mission-overlay { background:radial-gradient(circle at 50% 40%, #ffffffcc, #e3f1f7f0 70%); }
body.light .loader { border-color:#b6dbe6; border-top-color:#0094b6; border-right-color:#00a7c7; }

/* Responsive */
@media (max-width:1100px) { .sidebar { width:340px; } }
@media (max-width:880px) { body { flex-direction:column; } .sidebar { width:100%; flex-direction:row; overflow-x:auto; padding:18px 18px 20px; gap:18px; } .sidebar section { min-width:300px; } }
